

现在，我们河床已经准备好了。这实际上是最简单的部分；我们所做的只是遍历河流的每个
顶点，并且将某个半径内的所有高度图顶点降低到小于当前河顶点的高度。我们降低多少
取决于我们要去雕刻的河床的深度和长度。这种特殊的雕刻会留下一些尖锐的边缘，但是由于
河床边缘的锐利度已经相当小，并且可以通过地形高度上的双线性滤波器轻松平滑。就我们实际
的河流雕刻而言，这几乎就是这样。可以应用这些算法来创建不同的效果。我发现在我们的实现
中，它实际上是在相当平坦的地形上刻画了一些细节。

关于河床雕刻的另一个说明，因为我在每个河流节点上雕刻一个方形图案到高度图中，这不仅仅
会浪费时间，而且还会导致一些不可预估的后果。我为了解决这样一个问题做了一件事，那就是我
每一次经过的河流节点，当它沿着地图移动处理的时候，我都沿着床边平均出高度。我发现这在
雕刻河床时比处理速度快，因为它允许我在这两种情况下做出更多的假设，但是结果肯定还是一样的
随着河流的长度边长，深度的结果还是会随着变化的。

六、详细程度以及其他影响因素：

如果不是彻头彻尾的要求使用详细程度渲染地形，那么现在的做法就已经差不多足够了。
如果使用考虑地形崎岖的细节算法，在需要的地方提供更多的细节，比如ROAM算法，它
不会对河流产生太多的影响。如果我们使用的是更加简单的方法，例如：geomipmapping
我发现我们需要限制包含河流部分的修补程序的详细程度。在通常情况下，如果你不这样做
地形在当前补丁中就会被过度简化，完全消除了河流的任何明显迹象。根据您的相机角度以
及我们在世界各地移动的速度，这样也可能会成为问题。
