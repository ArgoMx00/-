一、了解图像金字塔

图像金字塔就类似于之前我们接触过的高度图压缩过程的每一个分层结构整体构成的内容。那么我们接下来了解一下图像金字塔的基本原理：

由于图像的拉普拉斯金字塔的构成是在高斯金字塔的基础上演变而来的，因此首先得对图像进行高斯金字塔分解。

二、高斯金字塔分解

高斯金字塔分解就是术语中的采样。说白了，这部分的内容就是将高度图进行不断缩小的过程。
相比于之前的预测做法，缩小的同时会保留更多的内容。我们设定原图像为G0，以G0作为高斯金字塔的第0层（底层，输入层）。对原始输入图像
进行高斯低通滤波和隔行隔列的下采样，得到高斯金字塔的第一层。再对第一层图像低通滤波和下采样，得到第二层，重复过程，构成高斯金字塔。
高斯金字塔的构建过程为：假设高斯金字塔的第l层图像为Gl,那么我们采样的公式如下：

![](https://i.loli.net/2018/08/01/5b615515915f5.jpg)

对于其中的w（m，n），它是一个5*5的窗口，窗口值分别为：

![](https://i.loli.net/2018/08/01/5b61557f0dfdf.jpg)

由此，我们可以从G0开始重复操作，构成高斯金字塔。

三、图像的拉普拉斯金字塔分解

将Gl内插值的方法，得到放大图像G-l，使得G-l的尺寸大小和Gl-1的尺寸大小相同。表示为：

![](https://i.loli.net/2018/08/01/5b6155dfcc028.jpg)

![](https://i.loli.net/2018/08/01/5b615605c609f.jpg)

那么我们就得到了残差金字塔。也就是拉普拉斯金字塔。它的每一层图像是高斯金字塔本层图像与其高一图像经内插放大后图像的差。此过程相当于
带通滤波，因此拉普拉斯金字塔又被称为带通金字塔分解。

四、重建图像金字塔

既然我们已经有了残差金字塔，那么我们就很容易得到金字塔的重建方式了，我们只要有当前图像，那么就可以计算下一图像的预测值，然后加上残差
图像就能够得到下一个图像。所以我们有公式：

![](https://i.loli.net/2018/08/01/5b6159836e9f5.jpg)

五、实现

那么我们接下来用Unity和C#来实现上述算法过程。






