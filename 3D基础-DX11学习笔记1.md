1.1向量和坐标系

向量是一种同时具有大小和方向的物理量。同时具有大小和方向的物理量称为向量值物理量。常见的向量值物理量有：力、位移。
因此，向量可以用来表示力，也可以用来表示位移也可以用来表示速度。

D3D使用的是所谓的左手坐标系。

1.2向量的基本运算

如果有两个向量u(ux,uy,uz),v(vx,vy,vz)
①当且仅当两个向量的各自分量相等的时候，这两个向量也相等。也就是说，仅当ux=vx,uy=vy,uz=vz的时候，两个向量u=v

②两个向量的对应分量可以相加。

③标量可以与向量相乘。Ku=(kux,kuy,kuz)

④减法可以通过向量假发和标量乘法来表示。u-v=u+(-1*v)

1.3向量的长度和单位向量

在几何学中，向量的大小等于有向线段的长度。我们用双竖线来表示向量的大小。现在假设有一个向量u(x,y,z)
我们希望以代数的方式计算他的大小。通过运用两次毕达哥拉斯定力可以计算出3D向量的大小。

||u||=sqrt(x*x+y*y+z*z)

我们可以将向量的每个分向量除以该向量的摸，得到规范化向量：

u规范=u/||u||=(x/||u||,y/||u||,z/||u||)；加以验证，这个u规范化之后的向量的长度一定1。

1.4向量的点积

如果有两个向量u(ux,uy,uz),v(vx,vy,vz)
那么点积u*v=uxvx+uyvy+uzvz

点积的定义不存在任何明显的几何意义。但是，使用余弦定理可以发现存在如下关系：
![](https://i.loli.net/2019/01/15/5c3d4f871acda.png)

其中夹角表示的是向量u和向量v之间的夹角。

正交投影：

![](https://i.loli.net/2019/01/15/5c3d504b767ae.png)

1.5向量的叉积

叉积是向量数学定义的第二种乘法形式。他与点积不同，点积的计算结果是一个标量，而叉积计算的结果是一个向量。
另外，叉积只能用于3D向量。通过两个3D向量u和v计算叉积，可以得到第三个向量w，该向量同时垂直于u和v。

如果有两个向量u(ux,uy,uz),v(vx,vy,vz)

![](https://i.loli.net/2019/01/15/5c3d50fe5a649.png)

1.6 点

到目前为止，我们讨论的是与位子无关的向量。而我们在3D程序中需要描述坐标位子：比如，3D几何体的位子和3D虚拟摄像机的位子。相对于一个坐标系，我们
可以使用在标准位子上的向量来表示空间中的3D位子。我们将它称为位子向量。在这里，向量末端的位子是唯一需要关注的特性，而方向和大小都无关。我们
交替使用术语“位子向量”和点，因为位子向量表示的就是一个点。

![](https://i.loli.net/2019/01/15/5c3d51bd83935.png)

2.1 矩阵乘法

![](https://i.loli.net/2019/01/15/5c3d52a475d81.png)

![](https://i.loli.net/2019/01/15/5c3d532022527.png)

2.2转置矩阵

矩阵M的转置矩阵为MT。

![](https://i.loli.net/2019/01/15/5c3d5376aec05.png)

2.3余子式

给定一个nxn的矩阵A，余子式是表示删除了第i行第j列的剩余矩阵。

求一个矩阵的行列式方式为：
![](https://i.loli.net/2019/01/15/5c3d54c877cf5.png)

2.4逆矩阵

![](https://i.loli.net/2019/01/15/5c3d559fb7ac7.png)




3.1矩阵描述

①缩放：

我们将缩放变换定义为:![](https://i.loli.net/2019/01/15/5c3d566d14f4d.png)

上述变换是将向量沿x轴方向缩放Sx单位，y轴方向缩放Sy个单位，Z轴方向缩放Sz个单位。

那么根据推导，我们可以求出这个S矩阵。

![](https://i.loli.net/2019/01/15/5c3d574bbf326.png)

那么也就是说，我们的向量，可以通过矩阵变换操作对向量进行改变。

②旋转

我们刚刚学会了通过运用矩阵变换使得向量各个单位进行缩放。那么我们接下来考虑如何将向量v绕一根轴n旋转角度。
我们规定n向量为单位向量，当绕着这个轴旋转的时候，沿着旋转轴用正方向俯视的时候，顺时针方向为正角。

解题示意图如下：

![](https://i.loli.net/2019/01/15/5c3d58eb8807f.png)

首先，将v向量分解为两个向量，一个向量平行于n，另一个垂直于n。平行分量即为projn（v）。即为向量v到向量n的投影向量。垂直分量v⊥=v-projn（v）
来得到。平行于n的projn（v）分量在旋转过程中是不会改变的。所以我们只需要计算垂直分量的旋转即可。从图中我们也可以看的出来，旋转后的向量
Rn（V）=Projn（V）+Rn（V⊥）。

那么我们现在未知的只剩下Rn（v⊥）了。要找到这个未知量，我们再建立一个旋转平面即可。

接下来我们有结果：

![](https://i.loli.net/2019/01/15/5c3d5d6ab76f2.png)


3.2平移

单位变换是一个线性变换，返回值就是输入的向量。即：I（u）=u。这说明线性变换的矩阵表示的就是一个单位矩阵。
现在我们将一个平移变换定义为一个仿射变换。这个仿射变换的线性变换部分是一个单位变换：

![](https://i.loli.net/2019/01/15/5c3d5f6e3199f.png)

那么平移矩阵就是：

![](https://i.loli.net/2019/01/15/5c3d5fa07cdfb.png)

缩放和旋转的仿射矩阵：

![](https://i.loli.net/2019/01/15/5c3d6019e50f7.png)

























